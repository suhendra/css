

<div id="columnchart_material" style="width: 800px; height: 500px;"></div>

<script type="text/javascript">
  google.charts.load('current', {'packages':['bar']});
  google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var jsonData = $.ajax({
      url: "<%= get_reports_entries_path %>",
      dataType: "json",
      async: false
    }).responseText;
    var obj = JSON.parse(jsonData);
    var cols = obj.cols;
    var rows = obj.rows;
    var dataTable = []
    dataTable.push(cols);
    for (a in rows) {
      dataTable.push(rows[a]);
    }
    var data = google.visualization.arrayToDataTable(dataTable);

    var options = {
      chart: {
        title: 'Feedback Reports',
        subtitle: 'All Branches',
      }
    };

    var chart = new google.charts.Bar(document.getElementById('columnchart_material'));

    chart.draw(data, google.charts.Bar.convertOptions(options));
  }
</script>
<%#= column_chart data, stacked: false, adapter: "google" %>
